graphs:

# Fake EEG Data + Metric calculation graph
  - id: EEG
    nodes:
    - id: sub_eeg
      module: timeflux.nodes.zmq
      class: Sub
      params:
        topics: [eeg_filtered]
    - id: window
      module: timeflux.nodes.window
      class: Slide
      params:
        length: 10
        step: 1
    - id: cognitiveload
      module: nodes.EEG_ratio
      class: Ratio
      params:
        a: ["^A*F", [4, 8]]
        b: ["^O|P", [8, 12]]
        metric: eeg_cognitive_load
    - id: attention
      module: nodes.EEG_ratio
      class: Ratio
      params:
        a: ["[A-Z]*[0-9]", [12, 22]]
        b: ["[A-Z]*[0-9]", [8, 13]]
        metric: eeg_attention
    - id: stress
      module: nodes.EEG_ratio
      class: Ratio
      params:
        a: ["^A*F", [22, 30]]
        b: ["^A*F", [8, 13]]
        metric: eeg_stress
    - id: arousal
      module: nodes.EEG_ratio
      class: Ratio
      params:
        a: ["[A-Z]*[0-9]", [8, 12]]
        b: ["[A-Z]*[0-9]", [13, 30]]
        metric: eeg_arousal
    - id: event_to_signal_cog_load
      module: timeflux.nodes.events
      class: EventToSignal
      params:
        label: 'eeg_cognitive_load'
        keys: null
    - id: event_to_signal_attention
      module: timeflux.nodes.events
      class: EventToSignal
      params:
        label: 'eeg_attention'
        keys: null
    - id: event_to_signal_stress
      module: timeflux.nodes.events
      class: EventToSignal
      params:
        label: 'eeg_stress'
        keys: null
    - id: event_to_signal_arousal
      module: timeflux.nodes.events
      class: EventToSignal
      params:
        label: 'eeg_arousal'
        keys: null
    - id: pub_cognitiveload
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: eeg_cognitiveload_metric
    - id: pub_attention
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: eeg_attention_metric
    - id: pub_stress
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: eeg_stress_metric
    - id: pub_arousal
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: eeg_arousal_metric
    - id: display
      module: timeflux.nodes.debug
      class: Display
    - id: pub_eeg
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: raw
    edges:
      - source: sub_eeg:eeg_filtered
        target: window
      - source: window
        target: cognitiveload
      - source: cognitiveload
        target: event_to_signal_cog_load
      - source: event_to_signal_cog_load
        target: pub_cognitiveload
      - source: window
        target: attention
      - source: attention
        target: event_to_signal_attention
      - source: event_to_signal_attention
        target: pub_attention
      - source: window
        target: stress
      - source: stress
        target: event_to_signal_stress
      - source: event_to_signal_stress
        target: pub_stress
      - source: window
        target: arousal
      - source: arousal
        target: event_to_signal_arousal
      - source: event_to_signal_arousal
        target: pub_arousal
    rate: 10